<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>JS中怎么定义类new对象调方法</title>
	</head>
	<body>
		<script type="text/javascript">
		
			// 1.在JS中怎么定义类?包括两种方式
			// 		第一种方式
			// 			function 类型(形式参数列表){
			// 				this.属性名 = 参数;
			// 				this.属性名 = 参数;
			// 				this.方法名 = function(){
			// 
			// 				}
			//			 }
			// 		第二种方式
			// 			类名 = function(形式参数列表){
			// 				this.属性名 = 参数;
			// 				this.属性名 = 参数;
			// 				this.方法名 = function(){
			// 
			// 				}
			// 			}
		
			// 既是一个函数,同时又是一个类的定义,函数名是:sayHello,类名是sayHello
			// function sayHello(){
				
			// }
			
			sayHello = function(){
				
			}
			
			// 关键看你怎么调用,如果没有使用new运算符调用,表示普通函数调用,不会在堆中new对象
			sayHello();
			
			// 使用new运算符去调用这个函数,显然是把它当作一个类来看待,这个会导致浏览器的堆当中开辟一个新对象!!!
			var o = new sayHello();//o是一个引用,保存内存地址指向对象
			
			
			// 正式定义一个员工类
			function Emp(x, y, z){
				// 属性
				this.empno = x;
				this.ename = y;
				this.sal = z;
				//方法
				this.work = function(){
					console.log(this.ename + " is sleep");
				}
			}
			
			// 创建对象
			var i = new Emp();
			i.work();//undefined is sleep
			
			var j = new Emp(1);
			j.work();//undefined is sleep
			
			var k = new Emp(2, "lisi");
			k.work();//lisi is sleep
			
			var e = new Emp(3,"zhansan",2000);
			e.work();//zhansan is sleep
			
			// 访问对象属性
			console.log("e.empno = " + e.empno);//这与java中的写法相同
			//访问一个对象的属性还可以这样写,语法格式: 引用["属性名"]
			console.log("e.empno = " + e["empno"]);
			
			//给Emp动态扩展方法
			Emp.prototype.getSal = function(){
				return this.sal;
			}
			//调用扩展的方法
			console.log(e.getSal());
			
			
		</script>
		
	</body>
</html>
